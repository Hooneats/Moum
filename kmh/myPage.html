<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ProductList</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <!--css-->
  <link rel="stylesheet" href="./root.css">
  <link rel="stylesheet" href="./myPage.css">
  <!--axios-->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <!--vue-->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <!--jQuery-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!--아이콘-->
  <link
          rel="stylesheet"
          href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
          integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
          crossorigin="anonymous"
  />

  <!--font-->
  <link
          href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap"
          rel="stylesheet"
  />
  <style>
    * {
      font-family: "Noto Sans KR", sans-serif;
    }
  </style>
</head>
<body>
<nav id="nav-placeholder" >
</nav>


<div class="container">

  <div class="my-page">

    <div class="show-content" id="show-content-id">



      <div class="content-area-member">
        <!--프로필-->
        <div class="my-page-profile" id="my-page-profile-id">
          <div class="my-page-profile-content">
            <div class="my-page-profile-info">
              <div class="profile-title">
                Profile
              </div>
              <div class="profile-photo">
                <div class="photo"></div>
              </div>

              <div class="profile-info">
                <div class="profile-info-nicname">
                  앙우와아앙
                </div>
                <div class="profile-info-point">
                  300000
                </div>
                <div class="profile-info-email">
                  hooneats@kosmo.net
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--이미지 업로드-->
        <form class="profile-photo-content" action="#" method="post" enctype="multipart/form-data">
          <input type="hidden" name="m_seq">

          <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
          <div class="file-upload">
            <div id="photo-modify-content-text">
              Profile-Image
            </div>
            <button class="file-upload-btn" type="button" onclick="$('.file-upload-input').trigger( 'click' )">Add Image</button>

            <div class="image-upload-wrap">
              <input name="imgFile" class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
              <div class="drag-text">
                Drag and drop
              </div>
            </div>
            <div class="file-upload-content">
              <img class="file-upload-image" src="#" alt="your image" />
              <div class="image-title-wrap">
                <button type="button" onclick="removeUpload()" class="remove-image">Remove <span class="image-title">Uploaded Image</span></button>
              </div>
            </div>
            <button type="submit" class="btn btn-outline-success" >Submit</button>
          </div>
        </form>
        <!--이미지 업로드 여기까지-->

        <!--아이디 비밀번호 수정-->
        <form class="profile-IdPw-content" action="#" method="post">
          <input type="hidden" name="m_seq">
          <div class="IdPw-upload">
            <label for="nicName" class="form-label nic-label">NicName</label>
            <input type="text" class="form-control" id="nicName" value="앙우와아앙" placeholder="Nic Name" name="username" >

            <!--비밀번호 수정전 비밀번호 맞는지 확인하기 버튼-->
            <div class="vue-password-paragraph" id="vue-pw">
              <input type="hidden" v-bind:value="memberSeq = '아르헨티나양'">
              <div>{{memberSeq}}</div>
              <button v-show="!passwordChangeInputShow" type="button" class="pw-change-button-try" data-bs-toggle="modal" data-bs-target="#password-change-confirm">Password change</button>
              <!-- Modal axios 비동기 처리-->
              <div class="modal fade" id="password-change-confirm" tabindex="-1" aria-labelledby="password-change-confirm-label" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="password-change-confirm-label">현재 비밀번호 확인</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <label for="current-password-input-labelId" class="form-label">Current Password</label>
                      <input v-model:value="currentPassword" type="text" class="form-control" id="current-password-input-labelId" placeholder="current-password">
                      <div v-show="isNotCurrentPassword" id="isNotCurrentPasswordDiv">현재 비밀번호가 맞지 않습니다.</div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                      <button type="button" class="btn btn-primary" v-on:click="currentPasswordIsRightButton()">Submit</button>
                    </div>
                  </div>
                </div>
              </div>


              <!--              비밀번호 맞으면 보여주기 if필요-->
              <div v-show="passwordChangeInputShow">
                <label for="Pw" class="form-label pw-label">Password</label>
                <input type="password" class="form-control" id="Pw" placeholder="Pw" name="pwd" >
              </div>
              <button type="button" data-bs-toggle="modal" data-bs-target="#info-change-modal" class="IdPw-submit">
                Submit
              </button>
            </div>
          </div>
          <!--모달-->
          <div class="modal fade" id="info-change-modal" tabindex="-1" aria-labelledby="info-change-confirm" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="info-change-confirm">확인</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  정보를 변경하시겠습니까?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                  <button type="submit" class="btn btn-primary">Save changes</button>
                </div>
              </div>
            </div>
          </div>
        </form>

        <!--아이디 비밀번호 수정 여기까지-->
        <!--        <div class="profile-setting-content">-->
        <!--          setting-->
        <!--          <div class="setting-content">-->

        <!--          </div>-->
        <!--        </div>-->

      </div>



      <!--탈퇴하기-->
      <form action="#" method="post">
        <!--아이디 값을 넘긴다-->
        <input type="hidden" name="m_seq">
        <div class="drop-membership">
          <button type="button" data-bs-toggle="modal" data-bs-target="#drop-member-modal" class="btn btn-outline-secondary">탈퇴하기</button>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="drop-member-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="drop-member-confirm" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="drop-member-confirm">확인</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                정말로 탈퇴하시겠습니까?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Submit</button>
              </div>
            </div>
          </div>
        </div>
      </form>

    </div>


  </div>
</div>








</div>


<footer id="footer-placeholder"></footer>

</body>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
<script>
  $(function () {
    $("#nav-placeholder").load("../base.html #navbar", () => {
      document.getElementById("nav-logout").toggleAttribute("hidden");
      document.getElementById("nav-login").toggleAttribute("hidden");
      document.getElementById("nav-signup").toggleAttribute("hidden");
      document.getElementById("nav-mypage").toggleAttribute("hidden");
      document.getElementById("nav-statistic").toggleAttribute("hidden");
      document.getElementById("nav-wishlist").toggleAttribute("hidden");
    });
    $("#footer-placeholder").load("../base.html #footer");
  });

</script>
<!--nevbar 여기까지?-->


<!--이미지 업로드-->
<script>

  function readURL(input) {
    if (input.files && input.files[0]) {

      var reader = new FileReader();

      reader.onload = function(e) {
        $('.image-upload-wrap').hide();

        $('.file-upload-image').attr('src', e.target.result);
        $('.file-upload-content').show();

        $('.image-title').html(input.files[0].name);
      };

      reader.readAsDataURL(input.files[0]);

    } else {
      removeUpload();
    }
  }

  function removeUpload() {
    $('.file-upload-input').replaceWith($('.file-upload-input').clone());
    $('.file-upload-content').hide();
    $('.image-upload-wrap').show();
  }
  $('.image-upload-wrap').bind('dragover', function () {
    $('.image-upload-wrap').addClass('image-dropping');
  });
  $('.image-upload-wrap').bind('dragleave', function () {
    $('.image-upload-wrap').removeClass('image-dropping');
  });
  <!--이미지 업로드 여기까지-->
</script>




<!--현재 비밀변호 변경-->
<script>
  <!--vue password paragraph-->
  var vuePw = new Vue({
    el: '#vue-pw',
    data(){
      return{
        // passwordModalShow: true,
        memberSeq : '',
        currentPassword:'',
        isRightCurrentPassword: false,
        isNotCurrentPassword: false,
        passwordChangeInputShow: false
      }
    },
    methods:{
      currentPasswordIsRightButton(){
      // async currentPasswordIsRightButton(){
        /*입력한 패스워드를 포함해서 보내주는 URL 넣어주자*/
        // let response = await axios.get();
        // if (response.data.isRightCurrentPassword === true) {
        //   this.currentPassword = '';
        //   this.isNotCurrentPassword = false;
        //   $("#password-change-confirm").modal("hide");
        //
        //   this.passwordChangeInputShow = true;
        // } else {
        //   this.isNotCurrentPassword = true;
        // }
        this.currentPassword = '';
        this.isNotCurrentPassword = false;
        $("#password-change-confirm").modal("hide");
        this.passwordChangeInputShow = true;
      }
    }

  })
  // $("#password-change-confirm").modal("hide")

</script>


</html>
